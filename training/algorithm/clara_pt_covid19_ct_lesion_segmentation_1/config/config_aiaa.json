{
  "version": 1,
  "type": "segmentation",
  "labels": [
    "COVID-19 affected regions"
  ],
  "description": "A pre-trained model for volumetric (3D) segmentation of COVID-19 affected regions in the lung from CT image",
  "pre_transforms": [
    {
      "name": "monai.transforms.LoadImaged",
      "args": {
        "keys": "image"
      }
    },
    {
      "name": "monai.transforms.AddChanneld",
      "args": {
        "keys": "image"
      }
    },
    {
      "name": "monai.transforms.Spacingd",
      "args": {
        "keys": "image",
        "pixdim": [
          0.8,
          0.8,
          5.0
        ],
        "mode": [
          "bilinear"
        ],
        "align_corners": [
          true
        ]
      }
    },
    {
      "name": "monai.transforms.ScaleIntensityRanged",
      "args": {
        "keys": "image",
        "a_min": -1000,
        "a_max": 500,
        "b_min": 0.0,
        "b_max": 1.0,
        "clip": true
      }
    }
  ],
  "inference": {
    "input": "image",
    "output": "pred",
    "AIAA": {
      "name": "aiaa.inference.PyTorchInference",
      "args": {
        "scanning_window": true,
        "roi": [
          224,
          224,
          32
        ],
        "overlap": 0.6,
        "device": "cpu",
        "sw_device": "cuda"
      }
    },
    "TRITON": {
      "name": "aiaa.inference.TritonInference",
      "args": {
        "scanning_window": true,
        "roi": [
          224,
          224,
          32
        ],
        "overlap": 0.6
      },
      "triton_model_config": {
        "platform": "pytorch_libtorch",
        "max_batch_size": 1,
        "input": [
          {
            "name": "INPUT__0",
            "data_type": "TYPE_FP32",
            "dims": [
              1,
              224,
              224,
              32
            ]
          }
        ],
        "output": [
          {
            "name": "OUTPUT__0",
            "data_type": "TYPE_FP32",
            "dims": [
              2,
              224,
              224,
              32
            ]
          }
        ]
      }
    }
  },
  "post_transforms": [
    {
      "name": "monai.transforms.AddChanneld",
      "args": {
        "keys": "pred"
      }
    },
    {
      "name": "monai.transforms.Activationsd",
      "args": {
        "keys": "pred",
        "softmax": true
      }
    },
    {
      "name": "monai.transforms.AsDiscreted",
      "args": {
        "keys": "pred",
        "argmax": true
      }
    },
    {
      "name": "monai.transforms.SqueezeDimd",
      "args": {
        "keys": "pred",
        "dim": 0
      }
    },
    {
      "name": "monai.transforms.ToNumpyd",
      "args": {
        "keys": "pred"
      }
    },
    {
      "name": "aiaa.transforms.Restored",
      "args": {
        "keys": "pred",
        "ref_image": "image"
      }
    }
  ],
  "writer": {
    "name": "aiaa.transforms.Writer",
    "args": {
      "image": "pred",
      "json": "result"
    }
  }
}
